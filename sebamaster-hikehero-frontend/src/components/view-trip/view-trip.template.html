<div class="container">
    <h1 class="col-8">{{ $ctrl.trip.title }}</h1>
    <div class="col-4">
        <md-button ng-if="$ctrl.isAuthenticated()" class="md-icon-button" aria-label="Edit Item" ng-click="$ctrl.edit()" >
            <md-icon><ng-md-icon icon="mode_edit"></ng-md-icon></md-icon>
        </md-button>

        <md-button ng-if="$ctrl.isAuthenticated()" class="md-icon-button"aria-label="Delete Item" ng-click="$ctrl.delete()" >
            <md-icon><ng-md-icon icon="delete" ></ng-md-icon></md-icon>
        </md-button>
    </div>
</div>

<div class="container">
    <div class="col-8">
        <view-carousel></view-carousel>
    </div>
    <div class="col-4 hero-box">
        <p>{{ $ctrl.trip.price }} per person</p>
        <p>{{ $ctrl.trip.startdate }}</p>
        {{ console.log($ctrl.trip.startdate) }}
        <p>{{ $ctrl.trip.difficulty }} </p>
        <button ng-click="$ctrl.openWindow(300, 300, 'google.com')" class="btn btn-primary">Book now</button>
    </div>
</div>

<div>
    <p>{{$ctrl.trip.description}}</p>
    <p>{{$ctrl.trip.location}}</p>
    <p>Created by {{$ctrl.trip.creator}}</p>
</div>

<div ng-if="$ctrl.UserService.isAuthenticated()">
    <h1>Questions</h1>
    <div class="col-12 hero-box">
        <ul ng-repeat="question in $ctrl.questions">
            <li>
                <p>{{question.questioner.firstname}} {{question.questioner.lastname}}</p>
                <p>{{question.content}}</p>
                <div ng-if="question.answer">
                    <p ng-style="{'margin-left' : '2em'}">{{$ctrl.trip.creator}}</p>
                    <p ng-style="{'margin-left' : '2em'}">{{question.answer}}</p>
                </div>
                <button ng-if="$ctrl.isTripCreator() && $ctrl.questionReplyingID != question._id && !question.answer" ng-click="$ctrl.typeAnswerToQuestion(question._id)">Reply</button>
                <form ng-submit="$ctrl.postAnswer()" autocomplete="off" ng-if="$ctrl.questionReplyingID == question._id">
                    <md-input-container>
                        <input ng-model="$ctrl.answer" type="text" placeholder="Type a reply ...">
                    </md-input-container>
                </form>
            </li>
        </ul>

        <form ng-submit="$ctrl.postQuestion()" autocomplete="off" ng-if="!$ctrl.isTripCreator()">
            <md-input-container>
                <input ng-model="$ctrl.question.content" type="text" placeholder="Ask a question ...">
            </md-input-container>
        </form>
    </div>
</div>


<!-- Trigger/Open The Modal -->
<button ng-click="$ctrl.openDialog()">Open Modal</button>


<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
        <button ng-click="$ctrl.closeDialog()">x</button>
        <p>Some text in the Modal..</p>
        <div layout="column">
            <md-content>
                <form>
                    <div>
                        <md-input-container layout="row" flex layout-padding>
                            <div flex="30">Title:</div>
                            <input type="text" ng-model="$ctrl.trip.title" flex>
                        </md-input-container>
                        <md-input-container class="create_trip" layout="row" flex="33" layout-padding>
                            <div flex="80">Difficulty:</div>
                            <div flex>
                                <md-select id="date" name="type" ng-model="$ctrl.trip.difficulty">
                                    <md-option value="grad1">*</md-option>
                                    <md-option value="grad2">**</md-option>
                                    <md-option value="grad3">***</md-option>
                                    <md-option value="grad4">****</md-option>
                                    <md-option value="grad5">*****</md-option>
                                </md-select>
                            </div>
                        </md-input-container>
                    </div>
                </form>
                <div layout="row">
                    <span flex></span>
                    <md-button class="md-raised md-primary" type="submit" ng-click="$ctrl.save()">Confirm</md-button>
                    <md-button class="md-raised" ng-click="$ctrl.closeDialog()">Cancel</md-button>
                </div>
            </md-content>

        </div>

    </div>

</div>